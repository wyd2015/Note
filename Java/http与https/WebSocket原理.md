# WebSocket原理
http协议通信都是浏览器发出一个请求，服务器接受请求后进行处理并返回结果，浏览器再对接收到的数据进行渲染。  
传统请求-响应模式的WEB开发通常采用轮询方案：浏览器以一定时间间隔频繁向服务器发送请求，来保持客户端数据的实时更新，但服务器数据可能还没更新，这样就会到来很多无用请求，浪费带宽！

webSocket连接是HTML5下的一种新的协议，基于TCP传输协议，本身属于应用层协议，且复用了http握手通道。它实现了浏览器与服务器的全双工通信，可以更好的节省服务器资源和带宽并达到实时通信的目的。

`webSocket与http长连接区别`：  
- http长连接在建立TCP连接后，在每个请求中仍需要单独发送请求头，数据传输效率低，且服务器不能主动给浏览器推数据。

## websocket建立连接